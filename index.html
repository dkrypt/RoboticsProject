<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width = device-width, initial-scale = 1">
<title>RIA:D&H Matrix</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<style>
.jumbotron{
    background-color:#4d4d4d;
    color:white;
}
/* Adds borders for tabs */
.tab-content {
    border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    padding: 10px;
}
.nav-tabs {
    margin-bottom: 0;
}
</style>

<div class="page-header">
<div class="container-fluid">
<div class="jumbotron">
<h2>D&H Matrix Transformation</h2>
<h3>IRIA630</h3>
<h5>Project by: Deepak Kumar(IEC2014015)</h4>
</div>
</div>
</div>
</head>

<body>
	<script >
           function compute_matrix() {

            var d1 =(document.getElementById('firsta').value);
            var theta1 = (document.getElementById('seconda').value);
            var r1 = (document.getElementById('thirda').value);
            var alpha1 = (document.getElementById('fourtha').value);
            //********************************************************//
            var d2 =(document.getElementById('firstb').value);
            var theta2 = (document.getElementById('secondb').value);
            var r2 = (document.getElementById('thirdb').value);
            var alpha2 = (document.getElementById('fourthb').value);
			//***************************************************//
			var Ad = parseInt(d1);
			var At = parseInt(theta1)*3.14/180;;
			At = At.toFixed(2);
			var Ar = parseInt(r1);
			Ar = Ar.toFixed(2);
			var Aa = parseInt(alpha1)*3.14*180;
			Aa = Aa.toFixed(2);
			//***************************************************//
			var  Bd= parseInt(d2);
			var Bt = parseInt(theta2)*3.14/180;;
			Bt = Bt.toFixed(2);
			var Br = parseInt(r2);
			Br = Br.toFixed(2);
			var Ba = parseInt(alpha2)*3.14*180;
			Ba = Ba.toFixed(2);
			//***************************************************//
			var a11 = Math.cos(At);
			a11 = a11.toFixed(2);
			var a12 = -Math.sin(At)*Math.cos(Aa);
			a12 = a12.toFixed(2);
			var a13 = Math.sin(At)*Math.sin(Aa);
			a13 = a13.toFixed(2);
			var a14 = Ar *Math.cos(At);
			a14 = a14.toFixed(2);
			var a21 = Math.sin(At);
			a21 = a21.toFixed(2);
			var a22 = Math.cos(At)*Math.cos(Aa);
			a22=a22.toFixed(2);
			var a23 = Math.cos(At)*Math.sin(Aa);
			a23 = a23.toFixed(2);
			var a24 = Ar*Math.sin(At);
			a24 = a24.toFixed(2);
			var a31 = 0;
			var a32 = Math.sin(Aa);
			a32 = a32.toFixed(2);
			var a33 = Math.cos(Aa);
			a33= a33.toFixed(2);
			var a34 = Ad;
			var a41 = 0;
			var a42 =0;
			var a43 =0;
			var a44=1;
            document.getElementById('text-a1').value =+a11 + "\t\t" + a12 + "\t\t" + a13 +"\t\t" + a14 + '\n' + a21 +"\t\t" + a22 + "\t\t" + a23 +"\t\t" + a24 + '\n' + a31 + "\t\t" + a32 + "\t\t" + a33 + "\t\t" +a34 + "\t\t" +'\n'+a41 + "\t\t"+ a42+"\t\t"+ a43 + "\t\t"+ a44 +"\n";
            //****************************************************************//
            var b11 = Math.cos(Bt);
			b11 = b11.toFixed(2);
			var b12 = -Math.sin(Bt)*Math.cos(Ba);
			b12 = b12.toFixed(2);
			var b13 = Math.sin(Bt)*Math.sin(Ba);
			b13 = b13.toFixed(2);
			var b14 = Br *Math.cos(Bt);
			b14 = b14.toFixed(2);
			var b21 = Math.sin(Bt);
			b21 = b21.toFixed(2);
			var b22 = Math.cos(Bt)*Math.cos(Ba);
			b22=b22.toFixed(2);
			var b23 = Math.cos(Bt)*Math.sin(Ba);
			b23 = b23.toFixed(2);
			var b24 = Br*Math.sin(Bt);
			b24 = b24.toFixed(2);
			var b31 = 0;
			var b32 = Math.sin(Ba);
			b32 = b32.toFixed(2);
			var b33 = Math.cos(Ba);
			b33= b33.toFixed(2);
			var b34 = Bd;
			var b41 = 0;
			var b42 =0;
			var b43 =0;
			var b44=1;
            document.getElementById('text-b1').value =+b11 + "\t\t" + b12 + "\t\t" + b13 +"\t\t" + b14 + '\n' + b21 +"\t\t" + b22 + "\t\t" + b23 +"\t\t" + b24 + '\n' + b31 + "\t\t" + b32 + "\t\t" + b33 + "\t\t" +b34 + "\t\t" +'\n'+b41 + "\t\t"+ b42+"\t\t"+ b43 + "\t\t"+ b44 +"\n";
            //*******************************************************//
            var t11=a11*b11+a12*b21+a13*b31+a14*b41;
            t11=t11.toFixed(2);
            var t12=a11*b12+a12*b22+a13*b32+a14*b42;
            t12=t12.toFixed(2);
            var t13=a11*b13+a12*b23+a13*b33+a14*b43;
            t13=t13.toFixed(2);
            var t14=a11*b14+a12*b24+a13*b34+a14*b44;
            t14=t14.toFixed(2);
            //------//
            var t21=a21*b11+a22*b21+a23*b31+a24*b41;
            t21=t21.toFixed(2);
            var t22=a21*b12+a22*b22+a23*b32+a24*b42;
            t22=t22.toFixed(2);
            var t23=a21*b13+a22*b23+a23*b33+a24*b43;
            t23=t23.toFixed(2);
            var t24=a21*b14+a22*b24+a23*b34+a24*b44;
            t24=t24.toFixed(2);
            //------//
            var t31=a31*b11+a32*b21+a33*b31+a34*b41;
            t31=t31.toFixed(2);
            var t32=a31*b12+a32*b22+a33*b32+a34*b42;
            t32=t32.toFixed(2);
            var t33=a31*b13+a32*b23+a33*b33+a34*b43;
            t33=t33.toFixed(2);
            var t34=a31*b14+a32*b24+a33*b34+a34*b44;
            t34=t34.toFixed(2);
            //------//
            var t41=a41*b11+a42*b21+a43*b31+a44*b41;
            t41=t41.toFixed(2);
            var t42=a41*b12+a42*b22+a43*b32+a44*b42;
            t42=t42.toFixed(2);
            var t43=a41*b13+a42*b23+a43*b33+a44*b43;
            t43=t43.toFixed(2);
            var t44=a41*b14+a42*b24+a43*b34+a44*b44;
            t44=t44.toFixed(2);
            document.getElementById('text-result').value =+t11 + "\t\t" + t12 + "\t\t" + t13 +"\t\t" + t14 + '\n' + t21 +"\t\t" + t22 + "\t\t" + t23 +"\t\t" + t24 + '\n' + t31 + "\t\t" + t32 + "\t\t" + t33 + "\t\t" +t34 + "\t\t" +'\n'+t41 + "\t\t"+ t42+"\t\t"+ t43 + "\t\t"+ t44 +"\n\n\n"+"Final Coordinates :   "+t14+"\t\t"+t24+"\t\t"+t34+"\n";
        }

        function clearText()  
		{
    		document.getElementById('text-a1').value = "";
    		document.getElementById('text-b1').value = "";
    		document.getElementById('text-result').value = "";
		}
    </script>
<div class="container">
<div class="row">
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
    <div class="jumbotron">
      <form method="post" Name="dh"><fieldset>
 	<legend>
 	<h3 style="color: white">D&H Transformation Matrix Calculation</h3>
 	</legend>
 	<center>
 		<div class="input-group input-group-lg">
  			<span class="input-group-addon">d1</span>
  			<input type="text" class="form-control" placeholder="d"  id = "firsta" aria-describedby="basic-addon1">
  			<span class="input-group-addon">d2</span>
  			<input type="text" class="form-control" placeholder="d"  id = "firstb" aria-describedby="basic-addon1">
		</div><br>
		
		<div class="input-group input-group-lg">
			<span class="input-group-addon" >&#952;1</span>
  			<input type="text" class="form-control" placeholder="theta"  id = "seconda" aria-describedby="basic-addon1">
  			<span class="input-group-addon" >&#952;2</span>
  			<input type="text" class="form-control" placeholder="theta"  id = "secondb" aria-describedby="basic-addon1">
  		</div><br>
  		
  		<div class="input-group input-group-lg">
  			<span class="input-group-addon" >r 1</span>
  			<input type="text" class="form-control" placeholder="r"  id = "thirda" aria-describedby="basic-addon1">
  			<span class="input-group-addon" >r 2</span>
  			<input type="text" class="form-control" placeholder="r"  id = "thirdb" aria-describedby="basic-addon1">
  		</div><br>
  		
  		<div class="input-group input-group-lg">
  			<span class="input-group-addon">&alpha;1</span>
  			<input type="text" class="form-control" placeholder="alpha"  id = "fourtha" aria-describedby="basic-addon1">
  			<span class="input-group-addon">&alpha;2</span>
  			<input type="text" class="form-control" placeholder="alpha"  id = "fourthb" aria-describedby="basic-addon1">
  		</div><br>
			
			<input type="button" value="Compute" class="btn btn-danger" onclick="compute_matrix()">
			<input type="reset" value="Reset" class="btn btn-danger" onclick="clearText()"></br></br>
		<div class="form-group">
    		<label for="exampleTextarea">Transformation Matrix</label>
    		<textarea class="form-control" id="text-result" rows="8"></textarea>
  		</div>
		</center>
		</fieldset>
			</form>
	</div>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">	
    <blockquote>
    <p><strong>d</strong> - distance between x<sub>i-1</sub> and x<sub>i</sub>, along the common normal</p>
    <p><strong>θ</strong> - the angle around the z-axis between the x<sub>i-1</sub> and x<sub>i</sub></p>
    <p><strong>a</strong> - the length of the common normal</p>
    <p><strong>α</strong> - the angle between z<sub>i-1</sub> and z<sub>i</sub>, around the common normal</p>
    </blockquote>
    <div class="form-group">
    		<label for="exampleTextarea"><sub>1</sub>T<sup>0</sup></label>
    		<textarea class="form-control" id="text-a1" rows="8"></textarea>
  	</div>
  	 <div class="form-group">
    		<label for="exampleTextarea"><sub>2</sub>T<sup>1</sup></label>
    		<textarea class="form-control" id="text-b1" rows="8"></textarea>
  	</div>
    </div>
    <!-- When in sm mode the 3rd column jumps up below the 2nd column. To fix it put the following right before the column that messes up using the screen mode being sm that messes up. -->
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.9.3/math.js"></script>
</body>
</html>
